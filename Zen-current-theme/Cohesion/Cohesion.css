/* === Cohesion (Start) === */

/* --- Style adjustments based on sidebar states --- */

/* Base state - No sidebars displayed - non-compact */
@media not (-moz-bool-pref: "zen.view.compact") {
  #browser:not(:has(#sidebar-box[checked="true"])):not(:has(#zen-sidebar-web-panel:not([hidden]))) 
    .browserSidebarContainer {
      border-radius: 0 0 10px 10px !important;
      margin-left: -0.5px !important;
    }
}

/* Only Normal Sidebar on Left */
#browser:has(#sidebar-box[checked="true"][style*="order: 1"]):not(:has(#zen-sidebar-web-panel:not([hidden]))) {
  
  /* Browser page style */
  .browserSidebarContainer {
    border-radius: 0px 0px 10px 0px !important;
  }
  
  /* Browser page style */
  #tabbrowser-tabpanels {
    border-radius: 0px 0px 0px 0px !important;
    margin-left: 0px !important;
    box-shadow: none !important;
    padding-left: 0px !important;
  }
  
  /* Normal Sidebar style */
  #sidebar-box {
    border-radius: 0px 0px 0px 10px !important;
    box-shadow: none !important;
    margin-left: 1px !important;
    margin-right: 0px !important;
    margin-bottom: 1px !important;
  }
  
  /* Splitter style */
  #sidebar-splitter {
    margin-right: -1px !important;
    background-color: rgba(0, 0, 0, 0.2) !important;
  }
}

/* Only Normal Sidebar on Right */
#browser:has(#sidebar-box[checked="true"]:not([style*="order: 1"])):not(:has(#zen-sidebar-web-panel:not([hidden]))) {
  
  /* Browser page style */
  .browserSidebarContainer {
    border-radius: 0px 0px 0px 10px !important;
  }
  
  /* Browser page style */
  #tabbrowser-tabpanels {
    padding-right: 0px !important;
    border-radius: 0px 0px 0px 0px !important;
    
  }
  
  /* Normal Sidebar style */
  #sidebar-box {
    border-radius: 0px 0px 10px 0px !important;
    box-shadow: none !important;
    margin-left: -4px !important;
    margin-right: 0px !important;
    margin-bottom: 1px !important;
    background-color: rgba(0, 0, 0, 0.2) !important;
  }
  
  /* Splitter style */
  #sidebar-splitter {
    margin-right: 0px !important;
    background-color: rgba(0, 0, 0, 0.2) !important;
  }
}

/* Only zen-sidebar on Left */
#browser:has(#zen-sidebar-web-panel:not([hidden])):not(:has(#sidebar-box[checked="true"])) {
  
  /* Browser page style */
  .browserSidebarContainer {
    border-radius: 0 0 10px 0 !important;
  }
  
  /* Browser page style */
  #tabbrowser-tabpanels {
    border-bottom-left-radius: 0px !important;
    margin-left: -10px !important;
    box-shadow: none !important;
    padding-left: 0px !important;
  } 
  
  #zen-sidebar-web-panel {
    padding-right: 0px !important;
    margin-left: 1px !important;
    border-radius: 0px 0px 0px 10px !important;
    border: 0px solid var(--zen-colors-border) !important;
    background-color: rgba(0, 0, 0, 0.2) !important;
    box-shadow: none !important;
    margin-bottom: 1px !important;
  }
  
  /* Zen Sidebar header style */
  #zen-sidebar-web-header {
    border: 0px !important;
    box-shadow: none !important;
  }
  
  /* Zen Sidebar footer style */
  #zen-sidebar-panels-wrapper {
  border-top-width: 0px !important;
  border-bottom-width: 0px !important;
  }  
} 

/* Both sidebars displayed - normal on left */
#browser:has(#sidebar-box[checked="true"][style*="order: 1"])
        :has(#zen-sidebar-web-panel:not([hidden])) {
  
  /* Browser page style */
  .browserSidebarContainer {
    border-radius: 0px 0px 10px 0px !important;
    margin-left: -9px !important;
  }
  
  /* Browser page style */
  #tabbrowser-tabpanels {
    box-shadow : none !important;
    margin-right: 0px !important;
  }
  
  /* Normal Sidebar style */
  #sidebar-box {
    border-radius: 0px 0px 0px 10px !important;
    box-shadow: none !important;
    margin-left: 1px !important;
    margin-right: 5px !important;
    margin-bottom: 1px !important;
  }
  
  /* Splitter style */
  #sidebar-splitter {
    margin-right: 0px !important;
    background-color: rgba(0, 0, 0, 0.2) !important;
  }
  
  /* zen-sidebar style */        
  #zen-sidebar-web-panel {
    padding-right: 0px !important;
    margin-left: -5px !important;
    border-radius: 0px 0px 0px 0px !important;
    border: 0px solid var(--zen-colors-border) !important;
    background-color: rgba(0, 0, 0, 0.2) !important;
    box-shadow: none !important;
    margin-bottom: 1px !important;
  }
  
  /* Zen Sidebar header style */
  #zen-sidebar-web-header {
    border: 0px !important;
    box-shadow: none !important;
  }
  
  /* Zen Sidebar footer style */
  #zen-sidebar-panels-wrapper {
  border-top-width: 0px !important;
  border-bottom-width: 0px !important;
  } 
}

/* Both sidebars displayed - normal on Right */
#browser:has(#sidebar-box[checked="true"]:not([style*="order: 1"]))
        :has(#zen-sidebar-web-panel:not([hidden])) {
          
  /* Browser page style */
  .browserSidebarContainer {
    border-radius: 0px 0px 0px 0px !important;
  }
  
  /* Browser page style */
  #tabbrowser-tabpanels {
    box-shadow : none !important;
    margin-right: 0px !important;
    margin-left: 0px !important;
  }
  
  /* Normal Sidebar style */
  #sidebar-box {
    border-radius: 0px 0px 10px 0px !important;
    box-shadow: none !important;
    margin-left: -4px !important;
    margin-bottom: 1px !important;
    background-color: rgba(0, 0, 0, 0.26) !important;
  }
  
  /* Splitter style */
  #sidebar-splitter {
    margin-right: 0px !important;
    background-color: rgba(0, 0, 0, 0.2) !important;
  }
  
  /* zen-sidebar style */
  #zen-sidebar-web-panel {
    padding-right: 0px !important;
    margin-left: 1px !important;
    margin-right: -10px !important;
    margin-bottom: 1px !important;
    border-radius: 0px 0px 0px 10px !important;
    border: 0px solid var(--zen-colors-border) !important;
    background-color: rgba(0, 0, 0, 0.2) !important;
    box-shadow: none !important;
  }
  
  /* Zen Sidebar header style */
  #zen-sidebar-web-header {
    border: 0px !important;
    box-shadow: none !important;
  }
  
  /* Zen Sidebar footer style */
  #zen-sidebar-panels-wrapper {
  border-top-width: 0px !important;
  border-bottom-width: 0px !important;
  } 
          
}

/* --- Integrated URL Bar --- */

/* Webview Styles */
@media not (-moz-bool-pref:"zen.view.compact") {
  #browser { 
    --urlbar-min-width: 28px !important;
  }

  /* Nav bar style and transparency level */
  #nav-bar {
    --zen-toolbar-height: 45px;
    background-color: rgba(0, 0, 0, 0.2) !important;
    border-radius: 10px 10px 0 0 !important;
    padding-left: 6px !important;
    margin: 6px 6px 0 1px !important;
    box-shadow: none !important;
  }  
}

  /* Browser styling with semi-transparent background and rounded corners (non-compact mode) */
@media not (-moz-bool-pref: "zen.view.compact") {
  .browserSidebarContainer {
    background-color: rgba(0, 0, 0, 0.2) !important;
    margin-top: 0px !important;
    margin-right: 0px !important;
    box-shadow: none !important;
    border-radius: 10px 10px 10px 10px !important;
  }
}

  /* Browser styling with semi-transparent background and rounded corners (non-compact mode) */
@media (-moz-bool-pref: "zen.view.compact") {
  .browserSidebarContainer {
    background-color: rgba(0, 0, 0, 0.2) !important;
    margin-top: 0px !important;
    margin-right: 0px !important;
    box-shadow: none !important;
    border-radius: 10px 10px 10px 10px !important;
  }
}
  
  /* Toolbar spacing */
  #navigator-toolbox {
    padding-top: 8px !important;
  }
}
    
/* --- Transparent Styles --- */

/* Transparent Normal Sidebar background */
#sidebar-box {
  background: rgba(255, 255, 255, 0.0) !important;
  }

/* Transparent Bookmark bar */
#PersonalToolbar:not([collapsed="true"]) {
  padding-bottom: 6px;
  margin-right: 6px !important;
  margin-left: 1px !important;
  background: rgba(0, 0, 0, 0.2) !important;
}
 
/* Transparent Findbar */
findbar {
	background: none !important;
  border-top: none !important;
 	}

  /* Cleaned & Transparent Sidebar */
#sidebar-box {
  background-color: rgba(0, 0, 0, .2) !important;
  border: none !important;
  & #sidebar-header {
    border-bottom: none !important;
    & #sidebar-close {
      display: none !important;
    }
  }
}
  
/* Transparent Search box in sidebar */
#sidebar-search-container > #search-box,
#viewButton {
  padding: 4px 8px !important;

  appearance: none !important;
  background-color: transparent !important;
  border-radius: 10px !important;
  border: none !important;
  &:hover {
    background-color: rgba(255, 255, 255, 0.1) !important;
  }
  &:active {
    background-color: rgba(255, 255, 255, 0.1) !important;
  }
}

/* Hide the Normal Sidebard Border */
#sidebar-header {
  font-size: 1.333em;
  padding: 5px !important;
  border-bottom: 0 solid var(--sidebar-border-color) !important;
}

/* === Cohesion (End) === */
